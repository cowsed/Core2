\doxysection{Trapezoid\+Profile Class Reference}
\hypertarget{classTrapezoidProfile}{}\label{classTrapezoidProfile}\index{TrapezoidProfile@{TrapezoidProfile}}


{\ttfamily \#include $<$trapezoid\+\_\+profile.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTrapezoidProfile_af693ca740c0112cfbf4a9ee13bbb6c5d}{Trapezoid\+Profile}} (double max\+\_\+v, double accel)
\begin{DoxyCompactList}\small\item\em Construct a new Trapezoid Profile object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structmotion__t}{motion\+\_\+t}} \mbox{\hyperlink{classTrapezoidProfile_a0b65a924664e6e052a16db19f73af17c}{calculate}} (double time\+\_\+s)
\begin{DoxyCompactList}\small\item\em Run the trapezoidal profile based on the time that\textquotesingle{}s ellapsed. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTrapezoidProfile_a1d28f3fa6bf1dfa7f5c1a34d0d3b17b5}{set\+\_\+endpts}} (double start, double end)
\item 
void \mbox{\hyperlink{classTrapezoidProfile_a1dcdfa1c290347cf0af48aca5afd167c}{set\+\_\+accel}} (double accel)
\item 
void \mbox{\hyperlink{classTrapezoidProfile_a6c08d08d8eadaa719f4dc9e607f9fe97}{set\+\_\+max\+\_\+v}} (double max\+\_\+v)
\item 
double \mbox{\hyperlink{classTrapezoidProfile_abd551042dfffe0923200c4546d109c55}{get\+\_\+movement\+\_\+time}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Trapezoid Profile

This is a motion profile defined by an acceleration, maximum velocity, start point and end point. Using this information, a parametric function is generated, with a period of acceleration, constant velocity, and deceleration. The velocity graph looks like a trapezoid, giving it it\textquotesingle{}s name.

If the maximum velocity is set high enough, this will become a S-\/curve profile, with only acceleration and deceleration.

This class is designed for use in properly modelling the motion of the robots to create a feedfoward and target for \doxylink{classPID}{PID}. Acceleration and Maximum velocity should be measured on the robot and tuned down slightly to account for battery drop.

Here are the equations graphed for ease of understanding\+: \href{https://www.desmos.com/calculator/rkm3ivu1yk}{\texttt{ https\+://www.\+desmos.\+com/calculator/rkm3ivu1yk}}

\begin{DoxyAuthor}{Author}
Ryan Mc\+Gee 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
7/12/2022 
\end{DoxyDate}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classTrapezoidProfile_af693ca740c0112cfbf4a9ee13bbb6c5d}\label{classTrapezoidProfile_af693ca740c0112cfbf4a9ee13bbb6c5d} 
\index{TrapezoidProfile@{TrapezoidProfile}!TrapezoidProfile@{TrapezoidProfile}}
\index{TrapezoidProfile@{TrapezoidProfile}!TrapezoidProfile@{TrapezoidProfile}}
\doxysubsubsection{\texorpdfstring{TrapezoidProfile()}{TrapezoidProfile()}}
{\footnotesize\ttfamily Trapezoid\+Profile\+::\+Trapezoid\+Profile (\begin{DoxyParamCaption}\item[{double}]{max\+\_\+v,  }\item[{double}]{accel }\end{DoxyParamCaption})}



Construct a new Trapezoid Profile object. 


\begin{DoxyParams}{Parameters}
{\em max\+\_\+v} & Maximum velocity the robot can run at \\
\hline
{\em accel} & Maximum acceleration of the robot \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classTrapezoidProfile_a0b65a924664e6e052a16db19f73af17c}\label{classTrapezoidProfile_a0b65a924664e6e052a16db19f73af17c} 
\index{TrapezoidProfile@{TrapezoidProfile}!calculate@{calculate}}
\index{calculate@{calculate}!TrapezoidProfile@{TrapezoidProfile}}
\doxysubsubsection{\texorpdfstring{calculate()}{calculate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structmotion__t}{motion\+\_\+t}} Trapezoid\+Profile\+::calculate (\begin{DoxyParamCaption}\item[{double}]{time\+\_\+s }\end{DoxyParamCaption})}



Run the trapezoidal profile based on the time that\textquotesingle{}s ellapsed. 


\begin{DoxyParams}{Parameters}
{\em time\+\_\+s} & Time since start of movement \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{structmotion__t}{motion\+\_\+t} Position, velocity and acceleration 
\end{DoxyReturn}
\Hypertarget{classTrapezoidProfile_abd551042dfffe0923200c4546d109c55}\label{classTrapezoidProfile_abd551042dfffe0923200c4546d109c55} 
\index{TrapezoidProfile@{TrapezoidProfile}!get\_movement\_time@{get\_movement\_time}}
\index{get\_movement\_time@{get\_movement\_time}!TrapezoidProfile@{TrapezoidProfile}}
\doxysubsubsection{\texorpdfstring{get\_movement\_time()}{get\_movement\_time()}}
{\footnotesize\ttfamily double Trapezoid\+Profile\+::get\+\_\+movement\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

uses the kinematic equations to and specified accel and max\+\_\+v to figure out how long moving along the profile would take \begin{DoxyReturn}{Returns}
the time the path will take to travel 
\end{DoxyReturn}
\Hypertarget{classTrapezoidProfile_a1dcdfa1c290347cf0af48aca5afd167c}\label{classTrapezoidProfile_a1dcdfa1c290347cf0af48aca5afd167c} 
\index{TrapezoidProfile@{TrapezoidProfile}!set\_accel@{set\_accel}}
\index{set\_accel@{set\_accel}!TrapezoidProfile@{TrapezoidProfile}}
\doxysubsubsection{\texorpdfstring{set\_accel()}{set\_accel()}}
{\footnotesize\ttfamily void Trapezoid\+Profile\+::set\+\_\+accel (\begin{DoxyParamCaption}\item[{double}]{accel }\end{DoxyParamCaption})}

set\+\_\+accel sets the acceleration this profile will use (the left and right legs of the trapezoid) 
\begin{DoxyParams}{Parameters}
{\em accel} & the acceleration amount to use \\
\hline
\end{DoxyParams}
\Hypertarget{classTrapezoidProfile_a1d28f3fa6bf1dfa7f5c1a34d0d3b17b5}\label{classTrapezoidProfile_a1d28f3fa6bf1dfa7f5c1a34d0d3b17b5} 
\index{TrapezoidProfile@{TrapezoidProfile}!set\_endpts@{set\_endpts}}
\index{set\_endpts@{set\_endpts}!TrapezoidProfile@{TrapezoidProfile}}
\doxysubsubsection{\texorpdfstring{set\_endpts()}{set\_endpts()}}
{\footnotesize\ttfamily void Trapezoid\+Profile\+::set\+\_\+endpts (\begin{DoxyParamCaption}\item[{double}]{start,  }\item[{double}]{end }\end{DoxyParamCaption})}

set\+\_\+endpts defines a start and end position 
\begin{DoxyParams}{Parameters}
{\em start} & the starting position of the path \\
\hline
{\em end} & the ending position of the path \\
\hline
\end{DoxyParams}
\Hypertarget{classTrapezoidProfile_a6c08d08d8eadaa719f4dc9e607f9fe97}\label{classTrapezoidProfile_a6c08d08d8eadaa719f4dc9e607f9fe97} 
\index{TrapezoidProfile@{TrapezoidProfile}!set\_max\_v@{set\_max\_v}}
\index{set\_max\_v@{set\_max\_v}!TrapezoidProfile@{TrapezoidProfile}}
\doxysubsubsection{\texorpdfstring{set\_max\_v()}{set\_max\_v()}}
{\footnotesize\ttfamily void Trapezoid\+Profile\+::set\+\_\+max\+\_\+v (\begin{DoxyParamCaption}\item[{double}]{max\+\_\+v }\end{DoxyParamCaption})}

sets the maximum velocity for the profile (the height of the top of the trapezoid) 
\begin{DoxyParams}{Parameters}
{\em max\+\_\+v} & the maximum velocity the robot can travel at \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/utils/trapezoid\+\_\+profile.\+h\item 
src/utils/trapezoid\+\_\+profile.\+cpp\end{DoxyCompactItemize}
