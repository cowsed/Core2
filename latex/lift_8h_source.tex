\doxysection{lift.\+h}
\hypertarget{lift_8h_source}{}\label{lift_8h_source}\index{include/subsystems/lift.h@{include/subsystems/lift.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}vex.h"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}../core/include/utils/pid.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{using\ namespace\ }vex;}
\DoxyCodeLine{00011\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classLift}{Lift}}}
\DoxyCodeLine{00022\ \{}
\DoxyCodeLine{00023\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structLift_1_1lift__cfg__t}{lift\_cfg\_t}}}
\DoxyCodeLine{00032\ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{double}\ up\_speed,\ down\_speed;}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{double}\ softstop\_up,\ softstop\_down;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{structPID_1_1pid__config__t}{PID::pid\_config\_t}}\ lift\_pid\_cfg;}
\DoxyCodeLine{00037\ \ \ \};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00060\ \ \ \mbox{\hyperlink{classLift_aa5723874330725dec5176ec4174e9ea8}{Lift}}(motor\_group\ \&lift\_motors,\ \mbox{\hyperlink{structLift_1_1lift__cfg__t}{lift\_cfg\_t}}\ \&lift\_cfg,\ map<T,\ double>\ \&setpoint\_map,\ limit\ *homing\_switch=NULL)}
\DoxyCodeLine{00061\ \ \ :\ lift\_motors(lift\_motors),\ cfg(lift\_cfg),\ lift\_pid(cfg.lift\_pid\_cfg),\ setpoint\_map(setpoint\_map),\ homing\_switch(homing\_switch)}
\DoxyCodeLine{00062\ \ \ \{}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ is\_async\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00065\ \ \ \ \ setpoint\ =\ 0;}
\DoxyCodeLine{00066\ \ \ \ \ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ Create\ a\ background\ task\ that\ is\ constantly\ updating\ the\ lift\ PID,\ if\ requested.}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\ Set\ once,\ and\ forget.}}
\DoxyCodeLine{00069\ \ \ \ \ task\ t([](\textcolor{keywordtype}{void}*\ ptr)\{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \mbox{\hyperlink{classLift}{Lift}}\ \&lift\ =\ *((\mbox{\hyperlink{classLift}{Lift}}*)\ ptr);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\textcolor{keyword}{true})}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(lift.\mbox{\hyperlink{classLift_a6913ab2df38f0429641c256ec9288370}{get\_async}}())}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ lift.\mbox{\hyperlink{classLift_a9afcbf54cdd919a2c5a68f95c7a0c9e8}{hold}}();}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ vexDelay(50);}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00081\ \ \ \ \ \},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_ae585cb81d733c975a65bfa7914a6bfeb}{control\_continuous}}(\textcolor{keywordtype}{bool}\ up\_ctrl,\ \textcolor{keywordtype}{bool}\ down\_ctrl)}
\DoxyCodeLine{00094\ \ \ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{static}\ timer\ tmr;}
\DoxyCodeLine{00096\ \ \ \ \ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{double}\ cur\_pos\ =\ 0;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ there's\ a\ hook\ for\ a\ custom\ sensor.\ If\ not,\ use\ the\ motors.}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{if}(get\_sensor\ ==\ NULL)}
\DoxyCodeLine{00101\ \ \ \ \ \ \ cur\_pos\ =\ lift\_motors.position(rev);}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ cur\_pos\ =\ get\_sensor();}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{if}(up\_ctrl\ \&\&\ cur\_pos\ <\ cfg.softstop\_up)}
\DoxyCodeLine{00106\ \ \ \ \ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ lift\_motors.spin(directionType::fwd,\ cfg.up\_speed,\ volt);}
\DoxyCodeLine{00108\ \ \ \ \ \ \ setpoint\ =\ cur\_pos\ +\ .3;}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{comment}{//\ std::cout\ <<\ "{}DEBUG\ OUT:\ UP\ "{}\ <<\ setpoint\ <<\ "{},\ "{}\ <<\ tmr.time(sec)\ <<\ "{},\ "{}\ <<\ cfg.down\_speed\ <<\ "{}\(\backslash\)n"{};}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \textcolor{comment}{//\ Disable\ the\ PID\ while\ going\ UP.}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ is\_async\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00114\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(down\_ctrl\ \&\&\ cur\_pos\ >\ cfg.softstop\_down)}
\DoxyCodeLine{00115\ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \textcolor{comment}{//\ Lower\ the\ lift\ slowly,\ at\ a\ rate\ defined\ by\ down\_speed}}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(setpoint\ >\ cfg.softstop\_down)}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ setpoint\ =\ setpoint\ -\/\ (tmr.time(sec)\ *\ cfg.down\_speed);}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{comment}{//\ std::cout\ <<\ "{}DEBUG\ OUT:\ DOWN\ "{}\ <<\ setpoint\ <<\ "{},\ "{}\ <<\ tmr.time(sec)\ <<\ "{},\ "{}\ <<\ cfg.down\_speed\ <<\ "{}\(\backslash\)n"{};}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ is\_async\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00121\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00122\ \ \ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \textcolor{comment}{//\ Hold\ the\ lift\ at\ the\ last\ setpoint}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ is\_async\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ tmr.reset();\ \ }
\DoxyCodeLine{00128\ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00138\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_acfeaf4547de1b6a01982e8e51b0bb224}{control\_manual}}(\textcolor{keywordtype}{bool}\ up\_btn,\ \textcolor{keywordtype}{bool}\ down\_btn,\ \textcolor{keywordtype}{int}\ volt\_up,\ \textcolor{keywordtype}{int}\ volt\_down)}
\DoxyCodeLine{00139\ \ \ \{}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ down\_hold\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ init\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{comment}{//\ Allow\ for\ setting\ position\ while\ still\ calling\ this\ function}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordflow}{if}(init\ ||\ up\_btn\ ||\ down\_btn)}
\DoxyCodeLine{00145\ \ \ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ init\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00147\ \ \ \ \ \ \ is\_async\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{double}\ rev\ =\ lift\_motors.position(rotationUnits::rev);}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordflow}{if}(rev\ <\ cfg.softstop\_down\ \&\&\ down\_btn)}
\DoxyCodeLine{00153\ \ \ \ \ \ \ down\_hold\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\ !down\_btn\ )}
\DoxyCodeLine{00155\ \ \ \ \ \ \ down\_hold\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{if}(up\_btn\ \&\&\ rev\ <\ cfg.softstop\_up)}
\DoxyCodeLine{00158\ \ \ \ \ \ \ lift\_motors.spin(directionType::fwd,\ volt\_up,\ voltageUnits::volt);}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(down\_btn\ \&\&\ rev\ >\ cfg.softstop\_down\ \&\&\ !down\_hold)}
\DoxyCodeLine{00160\ \ \ \ \ \ \ lift\_motors.spin(directionType::rev,\ volt\_down,\ voltageUnits::volt);}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ lift\_motors.spin(directionType::fwd,\ 0,\ voltageUnits::volt);}
\DoxyCodeLine{00163\ \ \ }
\DoxyCodeLine{00164\ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00177\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_a7197ad879474798a5c1fec4963058c3a}{control\_setpoints}}(\textcolor{keywordtype}{bool}\ up\_step,\ \textcolor{keywordtype}{bool}\ down\_step,\ vector<T>\ pos\_list)}
\DoxyCodeLine{00178\ \ \ \{}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ inputs\ are\ only\ processed\ on\ the\ rising\ edge\ of\ the\ button}}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ up\_last\ =\ up\_step,\ down\_last\ =\ down\_step;}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordtype}{bool}\ up\_rising\ =\ up\_step\ \&\&\ !up\_last;}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{bool}\ down\_rising\ =\ down\_step\ \&\&\ !down\_last;}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ up\_last\ =\ up\_step;}
\DoxyCodeLine{00186\ \ \ \ \ down\_last\ =\ down\_step;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ cur\_index\ =\ 0;}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{comment}{//\ Avoid\ an\ index\ overflow.\ Shouldn't\ happen\ unless\ the\ user\ changes\ pos\_list\ between\ calls.}}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{if}(cur\_index\ >=\ pos\_list.size())}
\DoxyCodeLine{00192\ \ \ \ \ \ \ cur\_index\ =\ pos\_list.size()\ -\/\ 1;}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{comment}{//\ Increment\ or\ decrement\ the\ index\ of\ the\ list,\ bringing\ it\ up\ or\ down.}}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordflow}{if}(up\_rising\ \&\&\ cur\_index\ <\ (pos\_list.size()\ -\/\ 1))}
\DoxyCodeLine{00196\ \ \ \ \ \ \ cur\_index++;}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(down\_rising\ \&\&\ cur\_index\ >\ 0)}
\DoxyCodeLine{00198\ \ \ \ \ \ \ cur\_index-\/-\/;}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ lift\ to\ hold\ the\ position\ in\ the\ background\ with\ the\ PID\ loop}}
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{classLift_ab3cb7bc86faa079ec1249b5026ea6a85}{set\_position}}(pos\_list[cur\_index]);}
\DoxyCodeLine{00202\ \ \ \ \ is\_async\ =\ \textcolor{keyword}{true};\ \ }
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00214\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classLift_ab3cb7bc86faa079ec1249b5026ea6a85}{set\_position}}(T\ pos)}
\DoxyCodeLine{00215\ \ \ \{}
\DoxyCodeLine{00216\ \ \ \ \ this-\/>setpoint\ =\ setpoint\_map[pos];}
\DoxyCodeLine{00217\ \ \ \ \ is\_async\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keywordflow}{return}\ (lift\_pid.\mbox{\hyperlink{classPID_a1cd58cedeccc45b67551e331ee547be9}{get\_target}}()\ ==\ this-\/>setpoint)\ \&\&\ lift\_pid.\mbox{\hyperlink{classPID_a9de884c31570c4ae0dc6e24eb26daa43}{is\_on\_target}}();}
\DoxyCodeLine{00220\ \ \ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00228\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classLift_a662bdc055d706699ef5cf308cd8872f8}{set\_setpoint}}(\textcolor{keywordtype}{double}\ val)}
\DoxyCodeLine{00229\ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ this-\/>setpoint\ =\ val;}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{return}\ (lift\_pid.\mbox{\hyperlink{classPID_a1cd58cedeccc45b67551e331ee547be9}{get\_target}}()\ ==\ this-\/>setpoint)\ \&\&\ lift\_pid.\mbox{\hyperlink{classPID_a9de884c31570c4ae0dc6e24eb26daa43}{is\_on\_target}}();}
\DoxyCodeLine{00232\ \ \ \}}
\DoxyCodeLine{00233\ \ \ }
\DoxyCodeLine{00237\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classLift_adaa6cb65351d0c8a2c199a87a318b133}{get\_setpoint}}()}
\DoxyCodeLine{00238\ \ \ \{}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>setpoint;}
\DoxyCodeLine{00240\ \ \ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00246\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_a9afcbf54cdd919a2c5a68f95c7a0c9e8}{hold}}()}
\DoxyCodeLine{00247\ \ \ \{}
\DoxyCodeLine{00248\ \ \ \ \ lift\_pid.\mbox{\hyperlink{classPID_a2e301ab123c9e18e677b4873b03550dd}{set\_target}}(setpoint);}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{comment}{//\ std::cout\ <<\ "{}DEBUG\ OUT:\ SETPOINT\ "{}\ <<\ setpoint\ <<\ "{}\(\backslash\)n"{};}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keywordflow}{if}(get\_sensor\ !=\ NULL)}
\DoxyCodeLine{00252\ \ \ \ \ \ \ lift\_pid.\mbox{\hyperlink{classPID_a53b5c34ba5e81fb79ed4258a143015b9}{update}}(get\_sensor());}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ lift\_pid.\mbox{\hyperlink{classPID_a53b5c34ba5e81fb79ed4258a143015b9}{update}}(lift\_motors.position(rev));}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{comment}{//\ std::cout\ <<\ "{}DEBUG\ OUT:\ ROTATION\ "{}\ <<\ lift\_motors.rotation(rev)\ <<\ "{}\(\backslash\)n\(\backslash\)n"{};}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ lift\_motors.spin(fwd,\ lift\_pid.\mbox{\hyperlink{classPID_a69c2e66b8ff06c86ca9701d11e21da75}{get}}(),\ volt);}
\DoxyCodeLine{00259\ \ \ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00265\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_ab53178b13037a4c6b1fd07657cff1f25}{home}}()}
\DoxyCodeLine{00266\ \ \ \{}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{static}\ timer\ tmr;}
\DoxyCodeLine{00268\ \ \ \ \ tmr.reset();}
\DoxyCodeLine{00269\ \ \ \ \ }
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordflow}{while}(tmr.time(sec)\ <\ 3)}
\DoxyCodeLine{00271\ \ \ \ \ \{}
\DoxyCodeLine{00272\ \ \ \ \ \ \ lift\_motors.spin(directionType::rev,\ 6,\ volt);}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (homing\_switch\ ==\ NULL\ \&\&\ lift\_motors.current(currentUnits::amp)\ >\ 1.5)}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (homing\_switch\ !=\ NULL\ \&\&\ homing\_switch-\/>pressing())}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00278\ \ \ \ \ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordflow}{if}(reset\_sensor\ !=\ NULL)}
\DoxyCodeLine{00281\ \ \ \ \ \ \ reset\_sensor();}
\DoxyCodeLine{00282\ \ \ \ \ }
\DoxyCodeLine{00283\ \ \ \ \ lift\_motors.resetPosition();}
\DoxyCodeLine{00284\ \ \ \ \ lift\_motors.stop();}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \ \ \}}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00291\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classLift_a6913ab2df38f0429641c256ec9288370}{get\_async}}()}
\DoxyCodeLine{00292\ \ \ \{}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{keywordflow}{return}\ is\_async;}
\DoxyCodeLine{00294\ \ \ \}}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00301\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_a7f37703180518390ec38cba9a780282b}{set\_async}}(\textcolor{keywordtype}{bool}\ val)}
\DoxyCodeLine{00302\ \ \ \{}
\DoxyCodeLine{00303\ \ \ \ \ this-\/>is\_async\ =\ val;}
\DoxyCodeLine{00304\ \ \ \}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00315\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_a08b7cdcfc9390f4945dd3737ac0e5ddc}{set\_sensor\_function}}(\textcolor{keywordtype}{double}\ (*fn\_ptr)\ (\textcolor{keywordtype}{void}))}
\DoxyCodeLine{00316\ \ \ \{}
\DoxyCodeLine{00317\ \ \ \ \ this-\/>get\_sensor\ =\ fn\_ptr;}
\DoxyCodeLine{00318\ \ \ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00326\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLift_a70b8e7cff5cd3b5827d8da07a02d92e6}{set\_sensor\_reset}}(\textcolor{keywordtype}{void}\ (*fn\_ptr)\ (\textcolor{keywordtype}{void}))}
\DoxyCodeLine{00327\ \ \ \{}
\DoxyCodeLine{00328\ \ \ \ \ this-\/>reset\_sensor\ =\ fn\_ptr;}
\DoxyCodeLine{00329\ \ \ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ motor\_group\ \&lift\_motors;}
\DoxyCodeLine{00334\ \ \ lift\_cfg\_t\ \&cfg;}
\DoxyCodeLine{00335\ \ \ \mbox{\hyperlink{classPID}{PID}}\ lift\_pid;}
\DoxyCodeLine{00336\ \ \ map<T,\ double>\ \&setpoint\_map;}
\DoxyCodeLine{00337\ \ \ limit\ *homing\_switch;}
\DoxyCodeLine{00338\ \ \ }
\DoxyCodeLine{00339\ \ \ atomic<double>\ setpoint;}
\DoxyCodeLine{00340\ \ \ atomic<bool>\ is\_async;}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \ \ double\ (*get\_sensor)(void)\ =\ NULL;}
\DoxyCodeLine{00343\ \ \ void\ (*reset\_sensor)(void)\ =\ NULL;}
\DoxyCodeLine{00344\ \ \ }
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \};}

\end{DoxyCode}
