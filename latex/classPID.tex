\doxysection{PID Class Reference}
\hypertarget{classPID}{}\label{classPID}\index{PID@{PID}}


{\ttfamily \#include $<$pid.\+h$>$}

Inheritance diagram for PID\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classPID}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structPID_1_1pid__config__t}{pid\+\_\+config\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classPID_a259eb7bfd0750c7afd4a058c5d1c58a1}{ERROR\+\_\+\+TYPE}} \{ {\bfseries LINEAR}
, {\bfseries ANGULAR}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classFeedback}{Feedback}}}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classFeedback_ac82a001abba300290790eb8414a84dce}\label{classFeedback_ac82a001abba300290790eb8414a84dce} 
enum {\bfseries Feedback\+Type} \{ {\bfseries PIDType}
, {\bfseries Feedforward\+Type}
, {\bfseries Other\+Type}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPID_a3b6b678b2d52a2be7fb572b766e43994}{PID}} (\mbox{\hyperlink{structPID_1_1pid__config__t}{pid\+\_\+config\+\_\+t}} \&\mbox{\hyperlink{classPID_a67626fa764b201c7190ace37e068666b}{config}})
\item 
void \mbox{\hyperlink{classPID_aab0f3b4351cc4ee2b8bb366105e85e95}{init}} (double start\+\_\+pt, double set\+\_\+pt) override
\item 
double \mbox{\hyperlink{classPID_a53b5c34ba5e81fb79ed4258a143015b9}{update}} (double sensor\+\_\+val) override
\item 
double \mbox{\hyperlink{classPID_a69c2e66b8ff06c86ca9701d11e21da75}{get}} () override
\item 
void \mbox{\hyperlink{classPID_a8411ac48e8868d89e97afcf8990cca2c}{set\+\_\+limits}} (double lower, double upper) override
\item 
bool \mbox{\hyperlink{classPID_a9de884c31570c4ae0dc6e24eb26daa43}{is\+\_\+on\+\_\+target}} () override
\item 
void \mbox{\hyperlink{classPID_af9677e76cb1beffbcf3f54cbc627c530}{reset}} ()
\item 
double \mbox{\hyperlink{classPID_ab5cdb296dbcce80703a9a98b9605c500}{get\+\_\+error}} ()
\item 
double \mbox{\hyperlink{classPID_a1cd58cedeccc45b67551e331ee547be9}{get\+\_\+target}} ()
\item 
void \mbox{\hyperlink{classPID_a2e301ab123c9e18e677b4873b03550dd}{set\+\_\+target}} (double target)
\item 
Feedback\+::\+Feedback\+Type \mbox{\hyperlink{classPID_ad131484741b61858cb3b5901d974d5ce}{get\+\_\+type}} () override
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPID_a67626fa764b201c7190ace37e068666b}\label{classPID_a67626fa764b201c7190ace37e068666b} 
\mbox{\hyperlink{structPID_1_1pid__config__t}{pid\+\_\+config\+\_\+t}} \& {\bfseries config}
\begin{DoxyCompactList}\small\item\em configuration struct for this controller. see \doxylink{structPID_1_1pid__config__t}{pid\+\_\+config\+\_\+t} for information about what this contains \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classPID}{PID} Class

Defines a standard feedback loop using the constants kP, kI, kD, deadband, and on\+\_\+target\+\_\+time. The formula is\+:

out = k\+P\texorpdfstring{$\ast$}{*}error + k\+I\texorpdfstring{$\ast$}{*}integral(d Error) + k\+D\texorpdfstring{$\ast$}{*}(d\+Error/dt)

The \doxylink{classPID}{PID} object will determine it is "{}on target"{} when the error is within the deadband, for a duration of on\+\_\+target\+\_\+time

\begin{DoxyAuthor}{Author}
Ryan Mc\+Gee 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
4/3/2020 
\end{DoxyDate}


\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classPID_a259eb7bfd0750c7afd4a058c5d1c58a1}\label{classPID_a259eb7bfd0750c7afd4a058c5d1c58a1} 
\index{PID@{PID}!ERROR\_TYPE@{ERROR\_TYPE}}
\index{ERROR\_TYPE@{ERROR\_TYPE}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{ERROR\_TYPE}{ERROR\_TYPE}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classPID_a259eb7bfd0750c7afd4a058c5d1c58a1}{PID\+::\+ERROR\+\_\+\+TYPE}}}

An enum to distinguish between a linear and angular caluclation of \doxylink{classPID}{PID} error. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classPID_a3b6b678b2d52a2be7fb572b766e43994}\label{classPID_a3b6b678b2d52a2be7fb572b766e43994} 
\index{PID@{PID}!PID@{PID}}
\index{PID@{PID}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{PID()}{PID()}}
{\footnotesize\ttfamily PID\+::\+PID (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPID_1_1pid__config__t}{pid\+\_\+config\+\_\+t}} \&}]{config }\end{DoxyParamCaption})}

Create the \doxylink{classPID}{PID} object 
\begin{DoxyParams}{Parameters}
{\em config} & the configuration data for this controller\\
\hline
\end{DoxyParams}
Create the \doxylink{classPID}{PID} object 

\doxysubsection{Member Function Documentation}
\Hypertarget{classPID_a69c2e66b8ff06c86ca9701d11e21da75}\label{classPID_a69c2e66b8ff06c86ca9701d11e21da75} 
\index{PID@{PID}!get@{get}}
\index{get@{get}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily double PID\+::get (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Gets the current \doxylink{classPID}{PID} out value, from when \doxylink{classPID_a53b5c34ba5e81fb79ed4258a143015b9}{update()} was last run \begin{DoxyReturn}{Returns}
the Out value of the controller (voltage, RPM, whatever the \doxylink{classPID}{PID} controller is controlling)
\end{DoxyReturn}
Gets the current \doxylink{classPID}{PID} out value, from when \doxylink{classPID_a53b5c34ba5e81fb79ed4258a143015b9}{update()} was last run 

Implements \mbox{\hyperlink{classFeedback_ac44bb519a6f4e25c8e8250f3d30ab359}{Feedback}}.

\Hypertarget{classPID_ab5cdb296dbcce80703a9a98b9605c500}\label{classPID_ab5cdb296dbcce80703a9a98b9605c500} 
\index{PID@{PID}!get\_error@{get\_error}}
\index{get\_error@{get\_error}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{get\_error()}{get\_error()}}
{\footnotesize\ttfamily double PID\+::get\+\_\+error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get the delta between the current sensor data and the target \begin{DoxyReturn}{Returns}
the error calculated. how it is calculated depends on error\+\_\+method specified in \doxylink{structPID_1_1pid__config__t}{pid\+\_\+config\+\_\+t}
\end{DoxyReturn}
Get the delta between the current sensor data and the target \Hypertarget{classPID_a1cd58cedeccc45b67551e331ee547be9}\label{classPID_a1cd58cedeccc45b67551e331ee547be9} 
\index{PID@{PID}!get\_target@{get\_target}}
\index{get\_target@{get\_target}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{get\_target()}{get\_target()}}
{\footnotesize\ttfamily double PID\+::get\+\_\+target (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get the \doxylink{classPID}{PID}\textquotesingle{}s target \begin{DoxyReturn}{Returns}
the target the \doxylink{classPID}{PID} controller is trying to achieve 
\end{DoxyReturn}
\Hypertarget{classPID_ad131484741b61858cb3b5901d974d5ce}\label{classPID_ad131484741b61858cb3b5901d974d5ce} 
\index{PID@{PID}!get\_type@{get\_type}}
\index{get\_type@{get\_type}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{get\_type()}{get\_type()}}
{\footnotesize\ttfamily Feedback\+::\+Feedback\+Type PID\+::get\+\_\+type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classFeedback}{Feedback}}.

\Hypertarget{classPID_aab0f3b4351cc4ee2b8bb366105e85e95}\label{classPID_aab0f3b4351cc4ee2b8bb366105e85e95} 
\index{PID@{PID}!init@{init}}
\index{init@{init}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void PID\+::init (\begin{DoxyParamCaption}\item[{double}]{start\+\_\+pt,  }\item[{double}]{set\+\_\+pt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Inherited from \doxylink{classFeedback}{Feedback} for interoperability. Update the setpoint and reset integral accumulation

start\+\_\+pt can be safely ignored in this feedback controller 
\begin{DoxyParams}{Parameters}
{\em start\+\_\+pt} & commpletely ignored for \doxylink{classPID}{PID}. necessary to satisfy \doxylink{classFeedback}{Feedback} base \\
\hline
{\em set\+\_\+pt} & sets the target of the \doxylink{classPID}{PID} controller \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classFeedback_a22efb13216bfd51aea07e0b6e45135c1}{Feedback}}.

\Hypertarget{classPID_a9de884c31570c4ae0dc6e24eb26daa43}\label{classPID_a9de884c31570c4ae0dc6e24eb26daa43} 
\index{PID@{PID}!is\_on\_target@{is\_on\_target}}
\index{is\_on\_target@{is\_on\_target}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{is\_on\_target()}{is\_on\_target()}}
{\footnotesize\ttfamily bool PID\+::is\+\_\+on\+\_\+target (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Checks if the \doxylink{classPID}{PID} controller is on target. ~\newline
 \begin{DoxyReturn}{Returns}
true if the loop is within \mbox{[}deadband\mbox{]} for \mbox{[}on\+\_\+target\+\_\+time\mbox{]} seconds
\end{DoxyReturn}
Returns true if the loop is within \mbox{[}deadband\mbox{]} for \mbox{[}on\+\_\+target\+\_\+time\mbox{]} seconds 

Implements \mbox{\hyperlink{classFeedback_ae4cc835c374aab9761d22603d4329d34}{Feedback}}.

\Hypertarget{classPID_af9677e76cb1beffbcf3f54cbc627c530}\label{classPID_af9677e76cb1beffbcf3f54cbc627c530} 
\index{PID@{PID}!reset@{reset}}
\index{reset@{reset}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void PID\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Reset the \doxylink{classPID}{PID} loop by resetting time since 0 and accumulated error. \Hypertarget{classPID_a8411ac48e8868d89e97afcf8990cca2c}\label{classPID_a8411ac48e8868d89e97afcf8990cca2c} 
\index{PID@{PID}!set\_limits@{set\_limits}}
\index{set\_limits@{set\_limits}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{set\_limits()}{set\_limits()}}
{\footnotesize\ttfamily void PID\+::set\+\_\+limits (\begin{DoxyParamCaption}\item[{double}]{lower,  }\item[{double}]{upper }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Set the limits on the \doxylink{classPID}{PID} out. The \doxylink{classPID}{PID} out will "{}clip"{} itself to be between the limits. 
\begin{DoxyParams}{Parameters}
{\em lower} & the lower limit. the \doxylink{classPID}{PID} controller will never command the output go below {\ttfamily lower} \\
\hline
{\em upper} & the upper limit. the \doxylink{classPID}{PID} controller will never command the output go higher than {\ttfamily upper}\\
\hline
\end{DoxyParams}
Set the limits on the \doxylink{classPID}{PID} out. The \doxylink{classPID}{PID} out will "{}clip"{} itself to be between the limits. 

Implements \mbox{\hyperlink{classFeedback_a533a10b65cfc998898bf054f8b141de2}{Feedback}}.

\Hypertarget{classPID_a2e301ab123c9e18e677b4873b03550dd}\label{classPID_a2e301ab123c9e18e677b4873b03550dd} 
\index{PID@{PID}!set\_target@{set\_target}}
\index{set\_target@{set\_target}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{set\_target()}{set\_target()}}
{\footnotesize\ttfamily void PID\+::set\+\_\+target (\begin{DoxyParamCaption}\item[{double}]{target }\end{DoxyParamCaption})}

Set the target for the \doxylink{classPID}{PID} loop, where the robot is trying to end up 
\begin{DoxyParams}{Parameters}
{\em target} & the sensor reading we would like to achieve\\
\hline
\end{DoxyParams}
Set the target for the \doxylink{classPID}{PID} loop, where the robot is trying to end up \Hypertarget{classPID_a53b5c34ba5e81fb79ed4258a143015b9}\label{classPID_a53b5c34ba5e81fb79ed4258a143015b9} 
\index{PID@{PID}!update@{update}}
\index{update@{update}!PID@{PID}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily double PID\+::update (\begin{DoxyParamCaption}\item[{double}]{sensor\+\_\+val }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Update the \doxylink{classPID}{PID} loop by taking the time difference from last update, and running the \doxylink{classPID}{PID} formula with the new sensor data 
\begin{DoxyParams}{Parameters}
{\em sensor\+\_\+val} & the distance, angle, encoder position or whatever it is we are measuring \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the new output. What would be returned by \doxylink{classPID_a69c2e66b8ff06c86ca9701d11e21da75}{PID\+::get()} 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classFeedback_adda5fc7642539996be00632954dfc41f}{Feedback}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/utils/pid.\+h\item 
src/utils/pid.\+cpp\end{DoxyCompactItemize}
