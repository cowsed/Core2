\doxysection{Flywheel Class Reference}
\hypertarget{classFlywheel}{}\label{classFlywheel}\index{Flywheel@{Flywheel}}


{\ttfamily \#include $<$flywheel.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classFlywheel_a61a1ba81b716c6f99a8d63394f8d185f}{Flywheel}} (motor\+\_\+group \&motors, \mbox{\hyperlink{structPID_1_1pid__config__t}{PID\+::pid\+\_\+config\+\_\+t}} \&pid\+\_\+config, \mbox{\hyperlink{structFeedForward_1_1ff__config__t}{Feed\+Forward\+::ff\+\_\+config\+\_\+t}} \&ff\+\_\+config, const double ratio)
\item 
\mbox{\hyperlink{classFlywheel_a38bb042949a6c6e7f283823a5786be65}{Flywheel}} (motor\+\_\+group \&motors, \mbox{\hyperlink{structFeedForward_1_1ff__config__t}{Feed\+Forward\+::ff\+\_\+config\+\_\+t}} \&ff\+\_\+config, const double ratio)
\item 
\mbox{\hyperlink{classFlywheel_a9ce96416ffe460e013fab3ba434bae79}{Flywheel}} (motor\+\_\+group \&motors, double tbh\+\_\+gain, const double ratio)
\item 
\mbox{\hyperlink{classFlywheel_a3ae86041ee9dc973538fcc6caf47cd58}{Flywheel}} (motor\+\_\+group \&motors, const double ratio)
\item 
double \mbox{\hyperlink{classFlywheel_a5dee80fd74903884478649b6ec2f4528}{get\+Desired\+RPM}} ()
\item 
bool \mbox{\hyperlink{classFlywheel_a990fde5741011926c84c45ea3c51ced3}{is\+Task\+Running}} ()
\item 
motor\+\_\+group \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classFlywheel_a5823c1242f4b00519f582a7468cf537a}{get\+Motors}} ()
\item 
double \mbox{\hyperlink{classFlywheel_ae46b69a8371dca7d6fb163c30192f666}{measure\+RPM}} ()
\item 
double \mbox{\hyperlink{classFlywheel_a00e5ad15adfb23185f7713b86d9d7b9f}{get\+RPM}} ()
\item 
\mbox{\hyperlink{classPID}{PID}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classFlywheel_adf7b3fab5fd8a708f339da649c72e775}{get\+PID}} ()
\item 
double \mbox{\hyperlink{classFlywheel_a45bde10a01304c71e74564cd080a9052}{get\+PIDValue}} ()
\item 
double \mbox{\hyperlink{classFlywheel_aea43f1c07b799133113d7b9ff14a7f36}{get\+Feedforward\+Value}} ()
\item 
double \mbox{\hyperlink{classFlywheel_a8c1f0b98975b9d75bc5b350fa059043d}{get\+TBHGain}} ()
\item 
void \mbox{\hyperlink{classFlywheel_a5eeb847c6ef4736b1917bf32843c69aa}{set\+PIDTarget}} (double value)
\item 
void \mbox{\hyperlink{classFlywheel_aa9df5ad636fb49d76ba922ecd1115aef}{update\+PID}} (double value)
\item 
void \mbox{\hyperlink{classFlywheel_a5f4afa2ab8976acbf9fd47776a884dd3}{spin\+\_\+raw}} (double speed, direction\+Type dir=fwd)
\item 
void \mbox{\hyperlink{classFlywheel_a291e067bcc495a9d3da16a5832d78484}{spin\+\_\+manual}} (double speed, direction\+Type dir=fwd)
\item 
void \mbox{\hyperlink{classFlywheel_aa72700130c0c8a08517ec1396fe9cc2b}{spin\+RPM}} (int rpm)
\item 
void \mbox{\hyperlink{classFlywheel_a6634f5126f0404e0edeeff1e0e14d05e}{stop}} ()
\item 
void \mbox{\hyperlink{classFlywheel_a78eaa40c9c069b8b4146c3ae34a21d4e}{stop\+Motors}} ()
\item 
void \mbox{\hyperlink{classFlywheel_a63c9c4d3646e4ed14f3b98ce3ab28684}{stop\+Non\+Tasks}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
a \doxylink{classFlywheel}{Flywheel} class that handles all control of a high inertia spinning disk It gives multiple options for what control system to use in order to control wheel velocity and functions alerting the user when the flywheel is up to speed. \doxylink{classFlywheel}{Flywheel} is a set and forget class. Once you create it you can call spin\+RPM or stop on it at any time and it will take all necessary steps to accomplish this 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classFlywheel_a61a1ba81b716c6f99a8d63394f8d185f}\label{classFlywheel_a61a1ba81b716c6f99a8d63394f8d185f} 
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{Flywheel()}{Flywheel()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily Flywheel\+::\+Flywheel (\begin{DoxyParamCaption}\item[{motor\+\_\+group \&}]{motors,  }\item[{\mbox{\hyperlink{structPID_1_1pid__config__t}{PID\+::pid\+\_\+config\+\_\+t}} \&}]{pid\+\_\+config,  }\item[{\mbox{\hyperlink{structFeedForward_1_1ff__config__t}{Feed\+Forward\+::ff\+\_\+config\+\_\+t}} \&}]{ff\+\_\+config,  }\item[{const double}]{ratio }\end{DoxyParamCaption})}

Create the \doxylink{classFlywheel}{Flywheel} object using \doxylink{classPID}{PID} + feedforward for control. 
\begin{DoxyParams}{Parameters}
{\em motors} & pointer to the motors on the fly wheel \\
\hline
{\em pid\+\_\+config} & pointer the pid config to use \\
\hline
{\em ff\+\_\+config} & the feedforward config to use \\
\hline
{\em ratio} & ratio of the whatever just multiplies the velocity\\
\hline
\end{DoxyParams}
Create the \doxylink{classFlywheel}{Flywheel} object using \doxylink{classPID}{PID} + feedforward for control. \Hypertarget{classFlywheel_a38bb042949a6c6e7f283823a5786be65}\label{classFlywheel_a38bb042949a6c6e7f283823a5786be65} 
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{Flywheel()}{Flywheel()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily Flywheel\+::\+Flywheel (\begin{DoxyParamCaption}\item[{motor\+\_\+group \&}]{motors,  }\item[{\mbox{\hyperlink{structFeedForward_1_1ff__config__t}{Feed\+Forward\+::ff\+\_\+config\+\_\+t}} \&}]{ff\+\_\+config,  }\item[{const double}]{ratio }\end{DoxyParamCaption})}

Create the \doxylink{classFlywheel}{Flywheel} object using only feedforward for control 
\begin{DoxyParams}{Parameters}
{\em motors} & the motors on the fly wheel \\
\hline
{\em ff\+\_\+config} & the feedforward config to use \\
\hline
{\em ratio} & ratio of the whatever just multiplies the velocity\\
\hline
\end{DoxyParams}
Create the \doxylink{classFlywheel}{Flywheel} object using only feedforward for control \Hypertarget{classFlywheel_a9ce96416ffe460e013fab3ba434bae79}\label{classFlywheel_a9ce96416ffe460e013fab3ba434bae79} 
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{Flywheel()}{Flywheel()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily Flywheel\+::\+Flywheel (\begin{DoxyParamCaption}\item[{motor\+\_\+group \&}]{motors,  }\item[{double}]{tbh\+\_\+gain,  }\item[{const double}]{ratio }\end{DoxyParamCaption})}

Create the \doxylink{classFlywheel}{Flywheel} object using Take Back Half for control 
\begin{DoxyParams}{Parameters}
{\em motors} & the motors on the fly wheel \\
\hline
{\em tbh\+\_\+gain} & the TBH control paramater \\
\hline
{\em ratio} & ratio of the whatever just multiplies the velocity\\
\hline
\end{DoxyParams}
Create the \doxylink{classFlywheel}{Flywheel} object using Take Back Half for control \Hypertarget{classFlywheel_a3ae86041ee9dc973538fcc6caf47cd58}\label{classFlywheel_a3ae86041ee9dc973538fcc6caf47cd58} 
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\index{Flywheel@{Flywheel}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{Flywheel()}{Flywheel()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily Flywheel\+::\+Flywheel (\begin{DoxyParamCaption}\item[{motor\+\_\+group \&}]{motors,  }\item[{const double}]{ratio }\end{DoxyParamCaption})}

Create the \doxylink{classFlywheel}{Flywheel} object using Bang Bang for control 
\begin{DoxyParams}{Parameters}
{\em motors} & the motors on the fly wheel \\
\hline
{\em ratio} & ratio of the whatever just multiplies the velocity\\
\hline
\end{DoxyParams}
Create the \doxylink{classFlywheel}{Flywheel} object using Bang Bang for control 

\doxysubsection{Member Function Documentation}
\Hypertarget{classFlywheel_a5dee80fd74903884478649b6ec2f4528}\label{classFlywheel_a5dee80fd74903884478649b6ec2f4528} 
\index{Flywheel@{Flywheel}!getDesiredRPM@{getDesiredRPM}}
\index{getDesiredRPM@{getDesiredRPM}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getDesiredRPM()}{getDesiredRPM()}}
{\footnotesize\ttfamily double Flywheel\+::get\+Desired\+RPM (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Return the RPM that the flywheel is currently trying to achieve \begin{DoxyReturn}{Returns}
RPM the target rpm
\end{DoxyReturn}
Return the current value that the RPM should be set to \Hypertarget{classFlywheel_aea43f1c07b799133113d7b9ff14a7f36}\label{classFlywheel_aea43f1c07b799133113d7b9ff14a7f36} 
\index{Flywheel@{Flywheel}!getFeedforwardValue@{getFeedforwardValue}}
\index{getFeedforwardValue@{getFeedforwardValue}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getFeedforwardValue()}{getFeedforwardValue()}}
{\footnotesize\ttfamily double Flywheel\+::get\+Feedforward\+Value (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

returns the current OUT value of the \doxylink{classPID}{PID} -\/ the value that the \doxylink{classPID}{PID} would set the motors to

returns the current OUT value of the Feedforward -\/ the value that the Feedforward would set the motors to \begin{DoxyReturn}{Returns}
the voltage that feedforward wants the motors at to achieve the target RPM 
\end{DoxyReturn}
\Hypertarget{classFlywheel_a5823c1242f4b00519f582a7468cf537a}\label{classFlywheel_a5823c1242f4b00519f582a7468cf537a} 
\index{Flywheel@{Flywheel}!getMotors@{getMotors}}
\index{getMotors@{getMotors}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getMotors()}{getMotors()}}
{\footnotesize\ttfamily motor\+\_\+group \texorpdfstring{$\ast$}{*} Flywheel\+::get\+Motors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns a POINTER to the motors

Returns a POINTER TO the motors; not currently used. \begin{DoxyReturn}{Returns}
motor\+Pointer -\/pointer to the motors 
\end{DoxyReturn}
\Hypertarget{classFlywheel_adf7b3fab5fd8a708f339da649c72e775}\label{classFlywheel_adf7b3fab5fd8a708f339da649c72e775} 
\index{Flywheel@{Flywheel}!getPID@{getPID}}
\index{getPID@{getPID}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getPID()}{getPID()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classPID}{PID}} \texorpdfstring{$\ast$}{*} Flywheel\+::get\+PID (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns a POINTER to the \doxylink{classPID}{PID}.

Returns a POINTER TO the \doxylink{classPID}{PID}; not currently used. \begin{DoxyReturn}{Returns}
pid\+Pointer -\/pointer to the \doxylink{classPID}{PID} 
\end{DoxyReturn}
\Hypertarget{classFlywheel_a45bde10a01304c71e74564cd080a9052}\label{classFlywheel_a45bde10a01304c71e74564cd080a9052} 
\index{Flywheel@{Flywheel}!getPIDValue@{getPIDValue}}
\index{getPIDValue@{getPIDValue}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getPIDValue()}{getPIDValue()}}
{\footnotesize\ttfamily double Flywheel\+::get\+PIDValue (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

returns the current OUT value of the \doxylink{classPID}{PID} -\/ the value that the \doxylink{classPID}{PID} would set the motors to

returns the current OUT value of the \doxylink{classPID}{PID} -\/ the value that the \doxylink{classPID}{PID} would set the motors to \begin{DoxyReturn}{Returns}
the voltage that \doxylink{classPID}{PID} wants the motors at to achieve the target RPM 
\end{DoxyReturn}
\Hypertarget{classFlywheel_a00e5ad15adfb23185f7713b86d9d7b9f}\label{classFlywheel_a00e5ad15adfb23185f7713b86d9d7b9f} 
\index{Flywheel@{Flywheel}!getRPM@{getRPM}}
\index{getRPM@{getRPM}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getRPM()}{getRPM()}}
{\footnotesize\ttfamily double Flywheel\+::get\+RPM (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

return the current smoothed velocity of the flywheel motors, in RPM \Hypertarget{classFlywheel_a8c1f0b98975b9d75bc5b350fa059043d}\label{classFlywheel_a8c1f0b98975b9d75bc5b350fa059043d} 
\index{Flywheel@{Flywheel}!getTBHGain@{getTBHGain}}
\index{getTBHGain@{getTBHGain}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{getTBHGain()}{getTBHGain()}}
{\footnotesize\ttfamily double Flywheel\+::get\+TBHGain (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

get the gain used for TBH control

get the gain used for TBH control \begin{DoxyReturn}{Returns}
the gain used in TBH control 
\end{DoxyReturn}
\Hypertarget{classFlywheel_a990fde5741011926c84c45ea3c51ced3}\label{classFlywheel_a990fde5741011926c84c45ea3c51ced3} 
\index{Flywheel@{Flywheel}!isTaskRunning@{isTaskRunning}}
\index{isTaskRunning@{isTaskRunning}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{isTaskRunning()}{isTaskRunning()}}
{\footnotesize\ttfamily bool Flywheel\+::is\+Task\+Running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Checks if the background RPM controlling task is running \begin{DoxyReturn}{Returns}
true if the task is running
\end{DoxyReturn}
Checks if the background RPM controlling task is running \begin{DoxyReturn}{Returns}
task\+Running -\/ If the task is running 
\end{DoxyReturn}
\Hypertarget{classFlywheel_ae46b69a8371dca7d6fb163c30192f666}\label{classFlywheel_ae46b69a8371dca7d6fb163c30192f666} 
\index{Flywheel@{Flywheel}!measureRPM@{measureRPM}}
\index{measureRPM@{measureRPM}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{measureRPM()}{measureRPM()}}
{\footnotesize\ttfamily double Flywheel\+::measure\+RPM (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

make a measurement of the current RPM of the flywheel motor and return a smoothed version

return the current velocity of the flywheel motors, in RPM \begin{DoxyReturn}{Returns}
the measured velocity of the flywheel 
\end{DoxyReturn}
\Hypertarget{classFlywheel_a5eeb847c6ef4736b1917bf32843c69aa}\label{classFlywheel_a5eeb847c6ef4736b1917bf32843c69aa} 
\index{Flywheel@{Flywheel}!setPIDTarget@{setPIDTarget}}
\index{setPIDTarget@{setPIDTarget}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{setPIDTarget()}{setPIDTarget()}}
{\footnotesize\ttfamily void Flywheel\+::set\+PIDTarget (\begin{DoxyParamCaption}\item[{double}]{value }\end{DoxyParamCaption})}

Sets the value of the \doxylink{classPID}{PID} target 
\begin{DoxyParams}{Parameters}
{\em value} & -\/ desired value of the \doxylink{classPID}{PID} \\
\hline
\end{DoxyParams}
\Hypertarget{classFlywheel_a291e067bcc495a9d3da16a5832d78484}\label{classFlywheel_a291e067bcc495a9d3da16a5832d78484} 
\index{Flywheel@{Flywheel}!spin\_manual@{spin\_manual}}
\index{spin\_manual@{spin\_manual}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{spin\_manual()}{spin\_manual()}}
{\footnotesize\ttfamily void Flywheel\+::spin\+\_\+manual (\begin{DoxyParamCaption}\item[{double}]{speed,  }\item[{direction\+Type}]{dir = {\ttfamily fwd} }\end{DoxyParamCaption})}

Spin motors using voltage; defaults forward at 12 volts FOR USE BY OPCONTROL AND AUTONOMOUS -\/ this only applies if the RPM thread is not running 
\begin{DoxyParams}{Parameters}
{\em speed} & -\/ speed (between -\/1 and 1) to set the motor \\
\hline
{\em dir} & -\/ direction that the motor moves in; defaults to forward \\
\hline
\end{DoxyParams}
\Hypertarget{classFlywheel_a5f4afa2ab8976acbf9fd47776a884dd3}\label{classFlywheel_a5f4afa2ab8976acbf9fd47776a884dd3} 
\index{Flywheel@{Flywheel}!spin\_raw@{spin\_raw}}
\index{spin\_raw@{spin\_raw}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{spin\_raw()}{spin\_raw()}}
{\footnotesize\ttfamily void Flywheel\+::spin\+\_\+raw (\begin{DoxyParamCaption}\item[{double}]{speed,  }\item[{direction\+Type}]{dir = {\ttfamily fwd} }\end{DoxyParamCaption})}

Spin motors using voltage; defaults forward at 12 volts FOR USE BY TASKS ONLY 
\begin{DoxyParams}{Parameters}
{\em speed} & -\/ speed (between -\/1 and 1) to set the motor \\
\hline
{\em dir} & -\/ direction that the motor moves in; defaults to forward \\
\hline
\end{DoxyParams}
\Hypertarget{classFlywheel_aa72700130c0c8a08517ec1396fe9cc2b}\label{classFlywheel_aa72700130c0c8a08517ec1396fe9cc2b} 
\index{Flywheel@{Flywheel}!spinRPM@{spinRPM}}
\index{spinRPM@{spinRPM}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{spinRPM()}{spinRPM()}}
{\footnotesize\ttfamily void Flywheel\+::spin\+RPM (\begin{DoxyParamCaption}\item[{int}]{input\+RPM }\end{DoxyParamCaption})}

starts or sets the RPM thread at new value what control scheme is dependent on control\+\_\+style 
\begin{DoxyParams}{Parameters}
{\em rpm} & -\/ the RPM we want to spin at\\
\hline
\end{DoxyParams}
starts or sets the RPM thread at new value what control scheme is dependent on control\+\_\+style 
\begin{DoxyParams}{Parameters}
{\em input\+RPM} & -\/ set the current RPM \\
\hline
\end{DoxyParams}
\Hypertarget{classFlywheel_a6634f5126f0404e0edeeff1e0e14d05e}\label{classFlywheel_a6634f5126f0404e0edeeff1e0e14d05e} 
\index{Flywheel@{Flywheel}!stop@{stop}}
\index{stop@{stop}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void Flywheel\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

stop the RPM thread and the wheel \Hypertarget{classFlywheel_a78eaa40c9c069b8b4146c3ae34a21d4e}\label{classFlywheel_a78eaa40c9c069b8b4146c3ae34a21d4e} 
\index{Flywheel@{Flywheel}!stopMotors@{stopMotors}}
\index{stopMotors@{stopMotors}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{stopMotors()}{stopMotors()}}
{\footnotesize\ttfamily void Flywheel\+::stop\+Motors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

stop only the motors; exclusively for BANG BANG use \Hypertarget{classFlywheel_a63c9c4d3646e4ed14f3b98ce3ab28684}\label{classFlywheel_a63c9c4d3646e4ed14f3b98ce3ab28684} 
\index{Flywheel@{Flywheel}!stopNonTasks@{stopNonTasks}}
\index{stopNonTasks@{stopNonTasks}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{stopNonTasks()}{stopNonTasks()}}
{\footnotesize\ttfamily void Flywheel\+::stop\+Non\+Tasks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Stop the motors if the task isn\textquotesingle{}t running -\/ stop manual control \Hypertarget{classFlywheel_aa9df5ad636fb49d76ba922ecd1115aef}\label{classFlywheel_aa9df5ad636fb49d76ba922ecd1115aef} 
\index{Flywheel@{Flywheel}!updatePID@{updatePID}}
\index{updatePID@{updatePID}!Flywheel@{Flywheel}}
\doxysubsubsection{\texorpdfstring{updatePID()}{updatePID()}}
{\footnotesize\ttfamily void Flywheel\+::update\+PID (\begin{DoxyParamCaption}\item[{double}]{value }\end{DoxyParamCaption})}

updates the value of the \doxylink{classPID}{PID} 
\begin{DoxyParams}{Parameters}
{\em value} & -\/ value to update the \doxylink{classPID}{PID} with \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/subsystems/flywheel.\+h\item 
src/subsystems/flywheel.\+cpp\end{DoxyCompactItemize}
